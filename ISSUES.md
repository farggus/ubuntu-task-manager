# Issues & Known Problems

> **–õ–µ–≥–µ–Ω–¥–∞:** ‚è≥ ‚Äî —Å–≤—è–∑–∞–Ω–æ —Å Fail2ban/Fail2ban+ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–º)

## –û—Ç–∫—Ä—ã—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 6. ‚è≥ –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ IP

**–§–∞–π–ª:** `src/collectors/fail2ban.py:480-493`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í—ã—Å–æ–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ú–µ—Ç–æ–¥ `_fetch_geo_data()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP-–∑–∞–ø—Ä–æ—Å –∫ ip-api.com —Å timeout=2 —Å–µ–∫. –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ 10 –Ω–æ–≤—ã—Ö IP –∞–¥—Ä–µ—Å–æ–≤ —ç—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ –Ω–∞ 20 —Å–µ–∫—É–Ω–¥.

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```python
def _fetch_geo_data(self, ip: str) -> Dict[str, str]:
    url = f"http://ip-api.com/json/{ip}?fields=country,org"
    with urllib.request.urlopen(req, timeout=2) as response:
        # ...
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –±–∞—Ç—á–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (ip-api –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 100 IP –∑–∞ –∑–∞–ø—Ä–æ—Å)
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç @work –ø–æ—Ç–æ–∫
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API ‚Äî 2 —Å–µ–∫ –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ –∫–∞–∂–¥—ã–π IP

**–†–µ—à–µ–Ω–∏—è:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å batch API: `POST http://ip-api.com/batch` —Å –º–∞—Å—Å–∏–≤–æ–º IP
2. –í—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º worker —Å –æ—á–µ—Ä–µ–¥—å—é
3. –û—Ç–ª–æ–∂–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö –¥–æ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (lazy load)

---

### 7. ‚è≥ O(n√óm) —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥—Å—á—ë—Ç–∞ –∞—Ç–∞–∫ –≤ –ª–æ–≥–∞—Ö

**–§–∞–π–ª:** `src/collectors/fail2ban.py:495-511`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í—ã—Å–æ–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ú–µ—Ç–æ–¥ `_count_attempts_from_logs()` –¥–ª—è –ö–ê–ñ–î–û–ì–û IP —á–∏—Ç–∞–µ—Ç –í–°–ï –ª–æ–≥-—Ñ–∞–π–ª—ã (–≤–∫–ª—é—á–∞—è .gz). –ü—Ä–∏ 50 IP –∏ 10 MB –ª–æ–≥–æ–≤ = 500 MB —á—Ç–µ–Ω–∏—è.

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```python
def _count_attempts_from_logs(self, ip: str) -> int:
    for log_file in glob.glob('/var/log/fail2ban.log*'):
        with opener(log_file, ...) as f:
            for line in f:
                if ip in line:
                    count += 1
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –õ–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –ª–æ–≥–∞–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ IP
- –†–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ .gz —Ñ–∞–π–ª—ã —á–∏—Ç–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–Ω–æ–≤–æ
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–†–µ—à–µ–Ω–∏—è:**
1. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å `{ip: count}` –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ –≤—Å–µ–º –ª–æ–≥–∞–º
2. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ .gz —Ñ–∞–π–ª–æ–≤ (–æ–Ω–∏ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mmap –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

---

### 9. ‚è≥ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ subprocess –¥–ª—è fail2ban

**–§–∞–π–ª:** `src/collectors/fail2ban.py:217-299`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–î–ª—è –∫–∞–∂–¥–æ–≥–æ jail –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ subprocess –≤—ã–∑–æ–≤—ã. –ü—Ä–∏ 5 jails = 10+ –≤—ã–∑–æ–≤–æ–≤ fail2ban-client.

**–¢–µ–∫—É—â–∏–µ –≤—ã–∑–æ–≤—ã –Ω–∞ jail:**
1. `fail2ban-client status <jail>` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
2. `fail2ban-client get <jail> bantime` ‚Äî –≤—Ä–µ–º—è –±–∞–Ω–∞

**–†–µ—à–µ–Ω–∏—è:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fail2ban-client -d` –¥–ª—è –¥–∞–º–ø–∞ –≤—Å–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤
2. –ü–∞—Ä—Å–∏—Ç—å sqlite –±–∞–∑—É fail2ban –Ω–∞–ø—Ä—è–º—É—é (`/var/lib/fail2ban/fail2ban.sqlite3`)
3. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å bantime (—Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è)

---

### 10. ‚è≥ –ù–µ–∞—Ç–æ–º–∏—á–Ω–∞—è –∑–∞–ø–∏—Å—å IP –∫—ç—à–∞

**–§–∞–π–ª:** `src/collectors/fail2ban.py:62-68`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ú–µ—Ç–æ–¥ `_save_ip_cache()` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç JSON –Ω–∞–ø—Ä—è–º—É—é –≤ —Ñ–∞–π–ª –±–µ–∑ –∞—Ç–æ–º–∏—á–Ω–æ—Å—Ç–∏. –ü—Ä–∏ concurrent –¥–æ—Å—Ç—É–ø–µ –∏–ª–∏ crash –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å—Å—è.

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```python
def _save_ip_cache(self) -> None:
    with open(BANS_DB_FILE, 'w', encoding='utf-8') as f:
        json.dump(self._ip_cache, f, indent=2)
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:** `AttacksDatabase` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RLock –∏ –∞—Ç–æ–º–∏—á–Ω—É—é –∑–∞–ø–∏—Å—å (temp + rename).

**–†–µ—à–µ–Ω–∏–µ:**
```python
def _save_ip_cache(self) -> None:
    tmp_path = BANS_DB_FILE + '.tmp'
    with open(tmp_path, 'w', encoding='utf-8') as f:
        json.dump(self._ip_cache, f, indent=2)
    os.replace(tmp_path, BANS_DB_FILE)  # –ê—Ç–æ–º–∏—á–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
```

---

---

### 15. ‚è≥ –ß—Ç–µ–Ω–∏–µ gzip –ª–æ–≥–æ–≤ –±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–§–∞–π–ª:** `src/collectors/fail2ban.py:316-327`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–†–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ .gz –ª–æ–≥–∏ (fail2ban.log.1.gz, .2.gz...) —á–∏—Ç–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `_get_recent_unbans()`. –≠—Ç–∏ —Ñ–∞–π–ª—ã –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ —Ä–æ—Ç–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏—è:**
1. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ .gz —Ñ–∞–π–ª–æ–≤ –ø–æ –∏–º–µ–Ω–∏/mtime
2. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ fail2ban.log (—Ç–µ–∫—É—â–∏–π)
3. –•—Ä–∞–Ω–∏—Ç—å offset –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–∑–∏—Ü–∏–∏ —á—Ç–µ–Ω–∏—è

---

### 19. ‚è≥ –ù–µ—Ç debounce/cancellation –¥–ª—è –ø–æ–∏—Å–∫–∞

**–§–∞–π–ª—ã:** –≤–∏–¥–∂–µ—Ç—ã fail2ban.py, logging.py (—á–∞—Å—Ç–∏—á–Ω–æ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü—Ä–∏ –≤–≤–æ–¥–µ –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ —Ç–∞–π–º–µ—Ä 0.3 —Å–µ–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–æ–∏—Å–∫ —É–∂–µ –∑–∞–ø—É—â–µ–Ω –≤ @work ‚Äî –æ–Ω –Ω–µ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥/—Ç–æ–∫–µ–Ω –æ—Ç–º–µ–Ω—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ–∏—Å–∫–∞:
```python
self._search_cancel_token += 1
current_token = self._search_cancel_token
# –í worker:
if self._search_cancel_token != current_token:
    return  # –û—Ç–º–µ–Ω—ë–Ω
```

---

### 20. ‚è≥ Traefik target lookup ‚Äî subprocess pipeline

**–§–∞–π–ª:** `src/collectors/fail2ban.py:541-607`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ú–µ—Ç–æ–¥ `_get_traefik_target_for_ip()` —Å–æ–∑–¥–∞—ë—Ç pipeline –∏–∑ –¥–≤—É—Ö subprocess (grep | tail) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ IP. –ü—Ä–∏ 20 IP = 40 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

**–†–µ—à–µ–Ω–∏—è:**
1. –ß–∏—Ç–∞—Ç—å –ª–æ–≥ –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Å—Ç—Ä–æ–∏—Ç—å map {ip: [targets]}
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ grep
3. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ access.log

---

---

---

### 24. ‚è≥ flake8 –æ—à–∏–±–∫–∏ –≤ fail2ban_v2.py

**–§–∞–π–ª:** `src/collectors/fail2ban_v2.py`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–î–≤–µ –æ—à–∏–±–∫–∏ flake8:
- **F401** ‚Äî –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç `Set` –∏–∑ `typing`
- **F841** ‚Äî –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `timestamp`

**–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–Ω–∏—è:**
–§–∞–π–ª –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –∏–ª–∏ –∑–∞–º–µ–Ω–µ.

---

### 25. C901 cyclomatic complexity ‚Äî 11 —Ñ—É–Ω–∫—Ü–∏–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è/–í—ã—Å–æ–∫–∞—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–§—É–Ω–∫—Ü–∏–∏ —Å –≤—ã—Å–æ–∫–æ–π —Ü–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é (>15):

| –§–∞–π–ª | –§—É–Ω–∫—Ü–∏—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|------|---------|-----------|
| `src/collectors/fail2ban.py` | `collect` | 21 |
| `src/collectors/fail2ban.py` | `_get_detailed_jail_info` | 24 |
| `src/collectors/fail2ban.py` | `_get_bans_with_geo` | 18 |
| `src/collectors/fail2ban_v2.py` | `_parse_log_file` | 25 |
| `src/collectors/network.py` | `collect` | 16 |
| `src/collectors/services.py` | `_get_docker_containers` | 17 |
| `src/collectors/system.py` | `_get_smart_summary` | 21 |
| `src/dashboard/widgets/packages.py` | `_populate_table` | 16 |
| `src/dashboard/widgets/services.py` | `_populate_table` | 16 |
| `src/dashboard/widgets/system_info.py` | `compose` | 19 |
| `src/dashboard/widgets/system_info.py` | `_build_storage_panel` | 23 |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–†–∞–∑–±–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –º–µ—Ç–æ–¥—ã —Å —á—ë—Ç–∫–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π ‚è≥ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ Fail2ban.

---

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | F2B |
|---|----------|-----------|-----------|:---:|
| ~~1~~ | ~~DEBUG-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ fail2ban_v2~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | ‚è≥ |
| ~~2~~ | ~~System Information –¥–æ–ª–≥–æ –≥—Ä—É–∑–∏—Ç—Å—è~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| ~~5~~ | ~~Packages: "Update All" –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| 6 | –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –¥–ª—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ | üî¥ –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è | ‚è≥ |
| 7 | O(n√óm) –ø–∞—Ä—Å–∏–Ω–≥ –ª–æ–≥–æ–≤ | üî¥ –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è | ‚è≥ |
| ~~8~~ | ~~SMART –±–ª–æ–∫–∏—Ä—É–µ—Ç update_data~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| 9 | –ú–Ω–æ–≥–æ subprocess –¥–ª—è fail2ban | üü° –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è | ‚è≥ |
| 10 | –ù–µ–∞—Ç–æ–º–∏—á–Ω–∞—è –∑–∞–ø–∏—Å—å –∫—ç—à–∞ | üü° –°—Ä–µ–¥–Ω–∏–π | –ù–∏–∑–∫–∞—è | ‚è≥ |
| ~~11~~ | ~~–í—Å–µ –≤–∫–ª–∞–¥–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| ~~12~~ | ~~Refresh –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ –≤–∏–¥–∂–µ—Ç—ã~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| ~~13~~ | ~~–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| ~~14~~ | ~~–î–≤–∞ –≤—ã–∑–æ–≤–∞ systemctl~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| 15 | –ß—Ç–µ–Ω–∏–µ gzip –±–µ–∑ –∫—ç—à–∞ | üü° –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è | ‚è≥ |
| ~~16~~ | ~~Export –±–ª–æ–∫–∏—Ä—É–µ—Ç UI~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| ~~17~~ | ~~–ù–µ—Ç graceful degradation~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| ~~18~~ | ~~–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| 19 | –ù–µ—Ç debounce –ø–æ–∏—Å–∫–∞ | üü¢ –ù–∏–∑–∫–∏–π | –ù–∏–∑–∫–∞—è | ‚è≥ |
| 20 | Traefik subprocess pipeline | üü¢ –ù–∏–∑–∫–∏–π | –°—Ä–µ–¥–Ω—è—è | ‚è≥ |
| ~~21~~ | ~~LoggingTab: preview + —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| ~~22~~ | ~~Fail2banPlusTab: lazy loading~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | ‚è≥ |
| ~~23~~ | ~~–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ README~~ | ‚úÖ –†–µ—à–µ–Ω–æ | | |
| 24 | flake8 –æ—à–∏–±–∫–∏ –≤ fail2ban_v2.py | üü¢ –ù–∏–∑–∫–∏–π | –ù–∏–∑–∫–∞—è | ‚è≥ |
| 25 | C901 cyclomatic complexity (11 —Ñ—É–Ω–∫—Ü–∏–π) | üü¢ –ù–∏–∑–∫–∏–π | –°—Ä–µ–¥–Ω—è—è | —á–∞—Å—Ç–∏—á–Ω–æ ‚è≥ |

> ‚è≥ = —Å–≤—è–∑–∞–Ω–æ —Å Fail2ban (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–±–µ–∑ F2B):** ‚Äî

---

## –ë—É–¥—É—â–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### F1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ E2E —Ç–µ—Å—Ç—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ unit-—Ç–µ—Å—Ç–∞–º–∏ (43%) –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

**–ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**

| –¢–∏–ø —Ç–µ—Å—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|-----------|----------|-----------|
| Collector ‚Üí Widget | –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è | –í—ã—Å–æ–∫–∏–π |
| Config ‚Üí Collectors | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ | –°—Ä–µ–¥–Ω–∏–π |
| Database ‚Üí Collector | –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å attacks.db.json | –í—ã—Å–æ–∫–∏–π |
| App lifecycle | Startup ‚Üí Tab switch ‚Üí Refresh ‚Üí Shutdown | –°—Ä–µ–¥–Ω–∏–π |

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `pytest-asyncio` ‚Äî –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ Textual
- `textual.testing` ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ Textual
- Fixtures –¥–ª—è mock-–¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º—ã

**–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:**
```python
async def test_system_tab_displays_collector_data():
    app = UTMDashboard()
    async with app.run_test() as pilot:
        # Switch to System tab
        await pilot.press("0")
        # Verify data is displayed
        assert app.query_one(SystemInfoWidget).content != ""
```

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**
Unit-—Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏ –Ω–∞ 80-100%. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –æ—Ç–ª–æ–∂–µ–Ω—ã –∫–∞–∫ –º–µ–Ω–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ.

---

### F2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: —Å–ª–æ–π —Å–µ—Ä–≤–∏—Å–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞: UI-–≤–∏–¥–∂–µ—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—é—Ç –º–µ—Ç–æ–¥—ã –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —Å–∏–ª—å–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É View –∏ Model.

**–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
Widget ‚Üí Collector ‚Üí System
```

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
Widget ‚Üí Service ‚Üí Collector ‚Üí System
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–ª–æ—è —Å–µ—Ä–≤–∏—Å–æ–≤:**
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç UI
- –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (mock —Å–µ—Ä–≤–∏—Å–æ–≤)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—é, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ API/CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º

**–ü—Ä–∏–º–µ—Ä:**
```python
# src/services/system_service.py
class SystemService:
    def __init__(self, collector: SystemCollector):
        self.collector = collector
        self._cache = {}

    def get_cpu_info(self) -> CPUInfo:
        data = self.collector.get_data()
        return CPUInfo(
            usage=data['cpu']['percent'],
            cores=data['cpu']['cores'],
            frequency=data['cpu']['freq']
        )
```

**–°—Ç–∞—Ç—É—Å:** –û—Ç–ª–æ–∂–µ–Ω–æ. –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.

---

### F3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª–∏–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—É—é –¥–ª–∏–Ω—É –≤ 50-100 —Å—Ç—Ä–æ–∫.

**–ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ `system.py:_get_disk_info` ‚Äî —Ä–∞–∑–±–∏—Ç –Ω–∞ 12 –º–µ—Ç–æ–¥–æ–≤ (–∫–æ–º–º–∏—Ç f410477)

**–û—Å—Ç–∞–≤—à–∏–µ—Å—è –∫–∞–Ω–¥–∏–¥–∞—Ç—ã:**

| –§–∞–π–ª | –ú–µ—Ç–æ–¥ | –°—Ç—Ä–æ–∫ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|------|-------|-------|--------------|
| ‚è≥ `fail2ban_v2.py` | `_parse_log_file()` | ~150 | –†–∞–∑–±–∏—Ç—å –Ω–∞ parse_line, handle_ban, handle_unban |
| `network.py` | `collect()` | ~120 | –í—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ _get_* –º–µ—Ç–æ–¥—ã |
| `services.py` | `_get_docker_containers()` | ~100 | –†–∞–∑–±–∏—Ç—å –ø–æ —Ç–∏–ø–∞–º –¥–∞–Ω–Ω—ã—Ö |

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- –ú–µ—Ç–æ–¥ –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å
- –ù–µ –±–æ–ª–µ–µ 3 —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –±–µ–∑ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞

---

### F4. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ pyroute2/systemd-python

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ó–∞–º–µ–Ω–∏—Ç—å subprocess-–≤—ã–∑–æ–≤—ã –Ω–∞ –Ω–∞—Ç–∏–≤–Ω—ã–µ Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- `pyroute2` ‚Äî –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–≤–º–µ—Å—Ç–æ `ip`, `netstat`)
- `systemd-python` ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å systemd (–≤–º–µ—Å—Ç–æ `systemctl`)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —É—Ç–∏–ª–∏—Ç
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –°–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å
- –¢—Ä–µ–±—É–µ—Ç root –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

### F5. Plugin-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä—è—Ç—å UTM –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞ ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ collectors –∏ –≤–∏–¥–∂–µ—Ç—ã.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
src/plugins/
‚îú‚îÄ‚îÄ __init__.py          # –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–ª–∞–≥–∏–Ω–æ–≤
‚îú‚îÄ‚îÄ base.py              # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –ø–ª–∞–≥–∏–Ω–∞
‚îî‚îÄ‚îÄ examples/
    ‚îú‚îÄ‚îÄ nvidia_gpu.py    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ GPU
    ‚îú‚îÄ‚îÄ smart_health.py  # S.M.A.R.T. –¥–∏—Å–∫–∏
    ‚îî‚îÄ‚îÄ custom_alerts.py # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
```

**–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å:**
```python
class BasePlugin(ABC):
    name: str = "Plugin Name"
    version: str = "1.0.0"

    @abstractmethod
    def collect(self) -> Dict[str, Any]:
        """–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (–∫–∞–∫ Collector)"""
        pass

    @abstractmethod
    def render(self, data: Dict) -> RenderableType:
        """–†–µ–Ω–¥–µ—Ä –≤–∏–¥–∂–µ—Ç–∞ (Rich/Textual)"""
        pass

    def on_load(self) -> None:
        """–•—É–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ"""
        pass
```

**–ü—Ä–∏–º–µ—Ä –ø–ª–∞–≥–∏–Ω–∞ (NVIDIA GPU):**
```python
# ~/.config/utm/plugins/nvidia_gpu.py
class NvidiaGPUPlugin(BasePlugin):
    name = "NVIDIA GPU Monitor"

    def collect(self):
        result = subprocess.run(
            ["/usr/bin/nvidia-smi", "--query-gpu=utilization.gpu,memory.used",
             "--format=csv,noheader"],
            capture_output=True, text=True
        )
        return {"gpu_util": result.stdout.strip()}

    def render(self, data):
        return Panel(f"GPU: {data['gpu_util']}", title="NVIDIA")
```

**–°–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

| –ê—Å–ø–µ–∫—Ç | –ü—Ä–æ–±–ª–µ–º–∞ |
|--------|----------|
| –ò–∑–æ–ª—è—Ü–∏—è | –ü–ª–∞–≥–∏–Ω—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ª–æ–º–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –∫–æ–¥–∞ ‚Äî —Ä–∏—Å–∫ |
| API —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | –ù—É–∂–µ–Ω –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤ |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –ö–∞–∂–¥—ã–π –ø–ª–∞–≥–∏–Ω –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Å–≤–æ–∏ –ø–∞–∫–µ—Ç—ã |
| Hot-reload | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (MVP):**
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ `config.yaml` ‚Äî –ø–æ–∫—Ä—ã–≤–∞–µ—Ç 80% use-cases:
```yaml
custom_commands:
  - name: "GPU Temperature"
    command: ["/usr/bin/nvidia-smi", "--query-gpu=temperature.gpu", "--format=csv,noheader"]
    interval: 5
    parser: "single_value"
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã—Ö –∫–æ–º–∞–Ω–¥, –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é plugin-—Å–∏—Å—Ç–µ–º—É —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º —Å–ø—Ä–æ—Å–µ.

---

### F6. –°–æ–∑–¥–∞–Ω–∏–µ .deb –ø–∞–∫–µ—Ç–∞ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç—Ä–µ–±—É–µ—Ç 5+ —à–∞–≥–æ–≤ (git clone, cd, install.sh, activate venv, run). –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —ç—Ç–æ —Å–ª–æ–∂–Ω–æ. .deb –ø–∞–∫–µ—Ç –ø–æ–∑–≤–æ–ª–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å UTM –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å:**
```bash
git clone <url> utm
cd utm
./scripts/install.sh
source venv/bin/activate
sudo ./scripts/run.sh
```

**–° .deb –ø–∞–∫–µ—Ç–æ–º:**
```bash
sudo apt install ./utm_2.1.0_amd64.deb
utm   # –≥–æ—Ç–æ–≤–æ!
```

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã:**

```
debian/
‚îú‚îÄ‚îÄ control             # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–∞ (–∏–º—è, –≤–µ—Ä—Å–∏—è, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
‚îú‚îÄ‚îÄ rules               # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ (–∫–∞–∫ Makefile)
‚îú‚îÄ‚îÄ changelog           # –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π (–¥–ª—è dpkg)
‚îú‚îÄ‚îÄ copyright           # –õ–∏—Ü–µ–Ω–∑–∏—è (MIT)
‚îú‚îÄ‚îÄ install             # –ú–∞–ø–ø–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤: —á—Ç–æ –∫—É–¥–∞ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
‚îú‚îÄ‚îÄ postinst            # –°–∫—Ä–∏–ø—Ç –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ venv, pip install)
‚îú‚îÄ‚îÄ prerm               # –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
‚îî‚îÄ‚îÄ utm.service         # systemd unit –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**–ü—Ä–∏–º–µ—Ä `debian/control`:**
```
Package: utm
Version: 2.1.0
Section: admin
Priority: optional
Architecture: all
Depends: python3 (>= 3.10), python3-pip, python3-venv
Maintainer: UTM Team <utm@example.com>
Description: Ubuntu Task Manager - TUI dashboard for Linux servers
 Full-featured terminal UI for monitoring processes, services,
 containers, network, fail2ban, disks and more.
Homepage: https://github.com/example/utm
```

**–ü—Ä–∏–º–µ—Ä `debian/install`:**
```
src/*                   /opt/utm/src/
config/*                /opt/utm/config/
requirements.txt        /opt/utm/
scripts/run.sh          /opt/utm/scripts/
```

**–ü—Ä–∏–º–µ—Ä `debian/postinst`:**
```bash
#!/bin/bash
set -e

case "$1" in
    configure)
        # –°–æ–∑–¥–∞–Ω–∏–µ venv –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        cd /opt/utm
        python3 -m venv venv
        ./venv/bin/pip install --upgrade pip
        ./venv/bin/pip install -r requirements.txt

        # –°–æ–∑–¥–∞–Ω–∏–µ symlink –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
        ln -sf /opt/utm/scripts/run.sh /usr/bin/utm

        # –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
        mkdir -p /var/lib/utm/{cache,data,logs}
        chmod 755 /var/lib/utm
        ;;
esac

exit 0
```

**–ü—Ä–∏–º–µ—Ä `debian/utm.service` (systemd unit):**
```ini
[Unit]
Description=Ubuntu Task Manager
After=network.target

[Service]
Type=simple
ExecStart=/opt/utm/venv/bin/python /opt/utm/src/main.py
WorkingDirectory=/opt/utm
Restart=on-failure
RestartSec=5

[Install]
WantedBy=multi-user.target
```

**–ö–æ–º–∞–Ω–¥–∞ —Å–±–æ—Ä–∫–∏:**
```bash
# –° dpkg-buildpackage (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±)
dpkg-buildpackage -us -uc -b

# –° fpm (–ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)
fpm -s dir -t deb \
    -n utm \
    -v 2.1.0 \
    --description "Ubuntu Task Manager - TUI dashboard for Linux servers" \
    --license MIT \
    --depends "python3 >= 3.10" \
    --depends python3-pip \
    --depends python3-venv \
    --after-install debian/postinst \
    --before-remove debian/prerm \
    ./src=/opt/utm \
    ./config=/opt/utm \
    ./requirements.txt=/opt/utm/
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ .deb:**

| –ê—Å–ø–µ–∫—Ç | –¢–µ–∫—É—â–∏–π —Å–ø–æ—Å–æ–± | –° .deb –ø–∞–∫–µ—Ç–æ–º |
|--------|----------------|----------------|
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ | 5+ –∫–æ–º–∞–Ω–¥ | 1 –∫–æ–º–∞–Ω–¥–∞ |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Python | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ apt |
| –ó–∞–ø—É—Å–∫ | `source venv && python ...` | `utm` |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ | git pull + pip install | `apt upgrade utm` |
| –£–¥–∞–ª–µ–Ω–∏–µ | –†—É—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–∞–ø–∫–∏ | `apt remove utm` |
| –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ | –ù–µ—Ç | systemd unit |

**–°–ø–æ—Å–æ–±—ã —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è .deb –ø–∞–∫–µ—Ç–∞:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –°–ø–æ—Å–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ .deb                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  1. –õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª (—Ä—É—á–Ω–æ–π)                                 ‚îÇ
‚îÇ     sudo apt install ./utm_2.1.0.deb                        ‚îÇ
‚îÇ     ‚ùå –ù–µ—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π                                    ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  2. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Ubuntu                          ‚îÇ
‚îÇ     sudo apt install nginx                                  ‚îÇ
‚îÇ     ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ apt upgrade                      ‚îÇ
‚îÇ     ‚ùå –ù—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ review Ubuntu (–º–µ—Å—è—Ü—ã/–≥–æ–¥—ã)              ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  3. PPA (Personal Package Archive)                          ‚îÇ
‚îÇ     sudo add-apt-repository ppa:user/utm                    ‚îÇ
‚îÇ     sudo apt install utm                                    ‚îÇ
‚îÇ     ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ apt upgrade                      ‚îÇ
‚îÇ     ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∑–∞ –¥–µ–Ω—å                                 ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

| –°–ø–æ—Å–æ–± | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è |
|--------|-----------|------------|-------------------|
| –õ–æ–∫–∞–ª—å–Ω—ã–π .deb | `apt install ./file.deb` | –°–∫–∞—á–∞—Ç—å –Ω–æ–≤—ã–π .deb –≤—Ä—É—á–Ω—É—é | –ù–∏–∑–∫–∞—è |
| PPA | `apt install utm` | `apt upgrade` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) | –°—Ä–µ–¥–Ω—è—è |
| –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ | `apt install utm` | `apt upgrade` | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è |

---

#### PPA (Personal Package Archive)

**–ß—Ç–æ —Ç–∞–∫–æ–µ PPA:**
PPA ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö Launchpad (Ubuntu). –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø–∞–∫–µ—Ç—ã —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `apt`.

**–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ PPA:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
wget https://github.com/.../utm_2.1.0.deb
sudo apt install ./utm_2.1.0.deb

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–≤—Ä—É—á–Ω—É—é –∫–∞–∂–¥—ã–π —Ä–∞–∑!)
wget https://github.com/.../utm_2.2.0.deb
sudo apt install ./utm_2.2.0.deb
```

**–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å PPA:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)
sudo add-apt-repository ppa:yourname/utm
sudo apt update
sudo apt install utm

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π)
sudo apt upgrade
# UTM –æ–±–Ω–æ–≤–∏—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏
```

**–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å PPA:**

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Launchpad** ‚Äî https://login.launchpad.net

2. **–°–æ–∑–¥–∞–Ω–∏–µ PPA:**
   ```
   https://launchpad.net/~/+activate-ppa
   Name: utm
   Description: Ubuntu Task Manager - TUI dashboard for Linux servers
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ GPG –∫–ª—é—á–∞** (–¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –ø–∞–∫–µ—Ç–æ–≤):
   ```bash
   gpg --gen-key
   gpg --send-keys --keyserver keyserver.ubuntu.com <KEY_ID>
   ```

4. **–ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–∫–µ—Ç–∞:**
   ```bash
   # –°–æ–∑–¥–∞—Ç—å source package
   debuild -S -sa

   # –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ PPA
   dput ppa:yourname/utm utm_2.1.0_source.changes
   ```

5. **Launchpad —Å–æ–±–∏—Ä–∞–µ—Ç .deb** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä (amd64, arm64, etc.)

**GitHub Actions –¥–ª—è –∞–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ PPA:**

```yaml
# .github/workflows/publish-ppa.yml
name: Publish to PPA

on:
  release:
    types: [published]

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Import GPG key
        run: echo "${{ secrets.GPG_PRIVATE_KEY }}" | gpg --import

      - name: Build source package
        run: debuild -S -sa

      - name: Upload to PPA
        run: dput ppa:yourname/utm ../utm_*_source.changes
```

**–ó–∞ –∏ –ø—Ä–æ—Ç–∏–≤ PPA:**

| –ó–∞ | –ü—Ä–æ—Ç–∏–≤ |
|----|--------|
| –£–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | –¢—Ä–µ–±—É–µ—Ç –∞–∫–∫–∞—É–Ω—Ç Launchpad |
| –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ apt | –ù—É–∂–µ–Ω GPG –∫–ª—é—á (—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —Å–µ–∫—Ä–µ—Ç) |
| –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã |
| –ê–≤—Ç–æ—Å–±–æ—Ä–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä | –¢–æ–ª—å–∫–æ –¥–ª—è Ubuntu (–Ω–µ Debian) |

---

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã PPA

1. **GitHub Releases** ‚Äî —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ .deb –≤—Ä—É—á–Ω—É—é
   - ‚úÖ –ü—Ä–æ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
   - ‚ùå –ù–µ—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

2. **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π apt-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è Ubuntu –∏ Debian
   - ‚ùå –ù—É–∂–µ–Ω —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä

3. **Snap Store** ‚Äî –∫—Ä–æ—Å—Å-–¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–Ω—ã–π
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º Linux —Å snapd
   - ‚ùå –î—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç –ø–∞–∫–µ—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏)

4. **–û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫** (–¥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ PPA):
   ```bash
   curl -sSL https://raw.githubusercontent.com/.../install.sh | sudo bash
   ```

---

**–≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

**–§–∞–∑–∞ 1: –ë–∞–∑–æ–≤—ã–π .deb –ø–∞–∫–µ—Ç**
1. [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `debian/` —Å –±–∞–∑–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
2. [ ] –ù–∞–ø–∏—Å–∞—Ç—å `postinst` —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ venv
3. [ ] –°–æ–∑–¥–∞—Ç—å systemd unit —Ñ–∞–π–ª
4. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É —á–µ—Ä–µ–∑ `dpkg-buildpackage`
5. [ ] –î–æ–±–∞–≤–∏—Ç—å GitHub Action –¥–ª—è –∞–≤—Ç–æ—Å–±–æ—Ä–∫–∏ .deb –ø—Ä–∏ —Ä–µ–ª–∏–∑–µ
6. [ ] –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å .deb –≤ GitHub Releases

**–§–∞–∑–∞ 2: PPA –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
7. [ ] –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ Launchpad
8. [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å GPG –∫–ª—é—á
9. [ ] –°–æ–∑–¥–∞—Ç—å PPA —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
10. [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Action –¥–ª—è –∞–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ PPA
11. [ ] –û–±–Ω–æ–≤–∏—Ç—å README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–µ—Ä–µ–∑ PPA

---

## –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ 1. –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ DEBUG-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ fail2ban_v2

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –ª–æ–≥–æ–≤ fail2ban –∫–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ ban/unban –ª–æ–≥–∏—Ä–æ–≤–∞–ª–æ—Å—å –æ—Ç–¥–µ–ª—å–Ω–æ, —Å–æ–∑–¥–∞–≤–∞—è —Ç—ã—Å—è—á–∏ –∑–∞–ø–∏—Å–µ–π –≤ —Å–µ–∫—É–Ω–¥—É.

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω—ã debug –ª–æ–≥–∏ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ `fail2ban_v2.py`. –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ `collect()`.

---

### ‚úÖ 2. System Information –≤–∏–¥–∂–µ—Ç –¥–æ–ª–≥–æ –≥—Ä—É–∑–∏—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç System Information –¥–æ–ª–≥–æ –∑–∞–≥—Ä—É–∂–∞–ª—Å—è (–¥–æ 30+ —Å–µ–∫—É–Ω–¥). –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤ `collect()`.

**–†–µ—à–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞:

1. **Background Caching** ‚Äî –º–µ–¥–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ñ–æ–Ω–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö:
   - `_update_package_stats_background()` ‚Äî —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ (30 –º–∏–Ω TTL)
   - `_update_service_stats_background()` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ (60 —Å–µ–∫ TTL)
   - `_update_disk_hierarchy_background()` ‚Äî –∏–µ—Ä–∞—Ä—Ö–∏—è –¥–∏—Å–∫–æ–≤ (5 –º–∏–Ω TTL)
   - SMART –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ daemon thread

2. **Progressive Data Rendering** ‚Äî –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è:
   - `collect_progressive()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ—Ä—è–¥–∫–µ –±—ã—Å—Ç—Ä—ã–µ ‚Üí –º–µ–¥–ª–µ–Ω–Ω—ã–µ
   - `update_data_progressive()` –æ–±–Ω–æ–≤–ª—è–µ—Ç UI –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–¥–µ–ª—å–Ω–æ
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–µ—Ä–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ <10ms (OS, hostname)

---

### ‚úÖ 3. Table refresh failed: 'NoneType' object is not subscriptable

**–ü—Ä–æ–±–ª–µ–º–∞:** –í `f2b_db_manage_modal.py` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `dict.get(key, {})` –Ω–µ –∑–∞—â–∏—â–∞–ª–æ –æ—Ç —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ –∫–ª—é—á —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ `None`. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É `None.get()`.

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `dict.get(key) or {}` –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç `None`:
```python
geo = item.get("geo") or {}
attempts = item.get("attempts") or {}
bans = item.get("bans") or {}
```

---

### ‚úÖ 4. Processes: "Running: 0" –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω "–ø—Ä–æ–≥—Ä–µ–≤" CPU —Å—á—ë—Ç—á–∏–∫–æ–≤ –≤ `ProcessesCollector.__init__()`:
```python
def __init__(self, config=None):
    super().__init__(config)
    try:
        list(psutil.process_iter(['cpu_percent']))
    except Exception:
        pass
```

---

### ‚úÖ 5. Packages: "Update All" –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ –ø–∞–∫–µ—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ "U Update All" –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞–∫–µ—Ç—ã –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å –Ω–µ–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º–∏ (libnuma1, numactl, python3-distupgrade).

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–∞ `apt-get update && apt-get upgrade -y` –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π —á–µ—Ä–µ–∑ `sh -c`:
```python
self.run_update_command([SUDO, "sh", "-c", "apt-get update && apt-get upgrade -y"])
```

---

### ‚úÖ 6. [Feature] Processes: —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ CPU% –∏ –∫–ª–∏–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ CPU% (descending)
2. –ö–ª–∏–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –∫–æ–ª–æ–Ω–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É
3. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ –º–µ–Ω—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (asc/desc toggle)

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `on_data_table_header_selected` –≤ `ProcessesTab`.

---

### ‚úÖ 6.1. Processes: –º–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑-–∑–∞ parent_name

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–∑—ã–≤–∞–ª—Å—è `psutil.Process(ppid).name()` ‚Äî O(n¬≤) –æ–ø–µ—Ä–∞—Ü–∏–π.

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è `PID -> name` –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥, –∑–∞—Ç–µ–º O(1) lookup:
```python
pid_to_name = {}
for p in psutil.process_iter(attrs):
    pid_to_name[p_info['pid']] = p_info['name']
# ...
parent_name = pid_to_name.get(p_info['ppid'], '?')
```

---

### ‚úÖ 8. SMART –¥–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç update_data()

**–ü—Ä–æ–±–ª–µ–º–∞:** `_get_smart_info()` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ `collect()` –ø—Ä–∏ —É—Å—Ç–∞—Ä–µ–≤—à–µ–º –∫—ç—à–µ (–¥–æ 60 —Å–µ–∫).

**–†–µ—à–µ–Ω–∏–µ:** SMART —Å–±–æ—Ä –≤—ã–Ω–µ—Å–µ–Ω –≤ —Ñ–æ–Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫ + —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫—ç—à `cache/disk_cache.json` —Å –ø–æ–ª—è–º–∏: device_type, model, serial, disk_type, transport, size_bytes, temperature, status.

---

### ‚úÖ 11. –í—Å–µ –≤–∫–ª–∞–¥–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–∂–¥—ã–π –≤–∏–¥–∂–µ—Ç –≤ `on_mount()` –∑–∞–ø—É—Å–∫–∞–ª `update_data()`, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–∫–ª–∞–¥–∫–∞ –Ω–µ –≤–∏–¥–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `on_show()` –≤–º–µ—Å—Ç–æ `on_mount()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –§–ª–∞–≥ `_data_loaded` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É. LoggingTab –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∞–π–º–µ—Ä –≤ `on_hide()`.

---

### ‚úÖ 12. action_refresh() –æ–±–Ω–æ–≤–ª—è–µ—Ç –í–°–ï –≤–∏–¥–∂–µ—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** Ctrl+R –æ–±–Ω–æ–≤–ª—è–ª –≤—Å–µ 11 –≤–∫–ª–∞–¥–æ–∫, –≤–∫–ª—é—á–∞—è –Ω–µ–≤–∏–¥–∏–º—ã–µ.

**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ CompactSystemInfo + –≤–∏–¥–∂–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ —á–µ—Ä–µ–∑ `TabbedContent.active`.

---

### ‚úÖ 13. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** `SystemCollector._get_process_stats()` –∏ `ProcessesCollector._get_processes()` –æ–±–∞ –≤—ã–∑—ã–≤–∞–ª–∏ `psutil.process_iter()`, –¥—É–±–ª–∏—Ä—É—è —Ä–∞–±–æ—Ç—É.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `src/utils/process_cache.py` —Å shared cache –¥–ª—è process_iter():
- `get_process_list(attrs)` ‚Äî –∫—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ 2 —Å–µ–∫
- `get_process_stats()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç total/zombies –∏–∑ –∫—ç—à–∞
- –û–±–∞ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–π –∫—ç—à

---

### ‚úÖ 14. –î–≤–∞ –≤—ã–∑–æ–≤–∞ systemctl –≤ _get_service_stats()

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞ `systemctl` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è failed –∏ active —Å–µ—Ä–≤–∏—Å–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –û–±—ä–µ–¥–∏–Ω—ë–Ω –≤ –æ–¥–∏–Ω –≤—ã–∑–æ–≤ —Å `--all` —Ñ–ª–∞–≥–æ–º –∏ –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ Python:
```python
result = subprocess.run([SYSTEMCTL, 'list-units', '--type=service', '--no-legend', '--all'], ...)
for line in result.stdout.splitlines():
    parts = line.split()
    if len(parts) >= 3:
        state = parts[2]  # ACTIVE column
        if state == 'failed':
            failed += 1
        elif state == 'active':
            active += 1
```

---

### ‚úÖ 16. export_snapshot() –±–ª–æ–∫–∏—Ä—É–µ—Ç UI

**–ü—Ä–æ–±–ª–µ–º–∞:** –≠–∫—Å–ø–æ—Ä—Ç snapshot –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –±–ª–æ–∫–∏—Ä—É—è UI.

**–†–µ—à–µ–Ω–∏–µ:** –û–±—ë—Ä–Ω—É—Ç –≤ `@work(thread=True)` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `call_from_thread` –¥–ª—è notify.

---

### ‚úÖ 17. –ù–µ—Ç graceful degradation –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (Docker, fail2ban) UI –ø–æ–∫–∞–∑—ã–≤–∞–ª –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
- Docker: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã `not_installed`, `not_running`, `permission` –≤ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä; ContainersTab –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –≤ header
- Fail2ban: –¥–æ–±–∞–≤–ª–µ–Ω—ã error/error_type –≤ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä; Fail2banTab –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –≤ header –∏ —Ç–∞–±–ª–∏—Ü–µ
- SMART: —É–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "N/A" –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

---

### ‚úÖ 18. –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ 7 –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–≤ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤ `__init__()`, –±–ª–æ–∫–∏—Ä—É—è —Å—Ç–∞—Ä—Ç UI.

**–†–µ—à–µ–Ω–∏–µ:** –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `@property` ‚Äî –∫–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏.

---

### ‚úÖ 21. LoggingTab: –±—ã—Å—Ç—Ä—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä + —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ lazy loading –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏, –≤—ã–∑—ã–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫—É.

**–†–µ—à–µ–Ω–∏–µ:**
- `_show_quick_preview()` ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ (tail-like)
- `_load_full_logs_background()` ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –ª–æ–≥–∏ –≤ —Ñ–æ–Ω–µ —á–µ—Ä–µ–∑ `@work(thread=True)`
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –≤ border title: –∂—ë–ª—Ç—ã–π –º–∏–≥–∞—é—â–∏–π ‚óè ‚Üí –∑–µ–ª—ë–Ω—ã–π ‚óè (follow on) / —Å–µ—Ä—ã–π ‚óã (follow off)

---

### ‚úÖ 22. Fail2banPlusTab: lazy loading

**–ü—Ä–æ–±–ª–µ–º–∞:** `Fail2banPlusTab` –∑–∞–≥—Ä—É–∂–∞–ª –¥–∞–Ω–Ω—ã–µ –≤ `on_mount()`, –±–ª–æ–∫–∏—Ä—É—è startup UI –¥–∞–∂–µ –∫–æ–≥–¥–∞ –≤–∫–ª–∞–¥–∫–∞ –Ω–µ –≤–∏–¥–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ `AttacksDatabase` –∏ `Fail2banClient` –≤ `on_show()`:
```python
def on_mount(self) -> None:
    pass  # No data loading

def on_show(self) -> None:
    if not self._data_loaded:
        self._data_loaded = True
        self._db = AttacksDatabase()
        self._f2b_client = Fail2banClient()
        self._refresh_data()
```

---

### ‚úÖ 23. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ README.md —á–µ—Ä–µ–∑ release-please

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ—Ä—Å–∏—è –≤ README.md –æ–±–Ω–æ–≤–ª—è–ª–∞—Å—å –≤—Ä—É—á–Ω—É—é.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω generic updater –≤ `release-please-config.json`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∞—Ä–∫–µ—Ä—ã `x-release-please-start-version` / `x-release-please-end-version` –≤ README.md
- –í–µ—Ä—Å–∏—è —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ä–µ–ª–∏–∑–µ
